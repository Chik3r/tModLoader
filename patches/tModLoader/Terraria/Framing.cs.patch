--- src/Terraria/Terraria/Framing.cs
+++ src/tModLoader/Terraria/Framing.cs
@@ -1,6 +_,7 @@
 using Microsoft.Xna.Framework;
 using Terraria.DataStructures;
 using Terraria.ID;
+using Terraria.ModLoader;
 
 namespace Terraria
 {
@@ -312,7 +_,7 @@
 			if (WorldGen.SkipFramingBecauseOfGen || i <= 0 || j <= 0 || i >= Main.maxTilesX - 1 || j >= Main.maxTilesY - 1 || false)
 				return;
 
-			if (Main.tile[i, j].wall >= 316)
+			if (Main.tile[i, j].wall >= WallLoader.WallCount)
 				Main.tile[i, j].wall = 0;
 
 			WorldGen.UpdateMapTile(i, j);
@@ -380,10 +_,10 @@
 			return GetTileSafely((int)position.X, (int)position.Y);
 		}
 
-		public static Tile GetTileSafely(Point pt) => GetTileSafely(pt.X, pt.Y);
+		public static ref Tile GetTileSafely(Point pt) => ref GetTileSafely(pt.X, pt.Y);
-		public static Tile GetTileSafely(Point16 pt) => GetTileSafely(pt.X, pt.Y);
+		public static ref Tile GetTileSafely(Point16 pt) => ref GetTileSafely(pt.X, pt.Y);
 
-		public static Tile GetTileSafely(int i, int j) {
+		public static ref Tile GetTileSafely(int i, int j) {
 			if (!WorldGen.InWorld(i, j))
 				return new Tile();
 
